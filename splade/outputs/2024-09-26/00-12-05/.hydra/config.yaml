config:
  lr: 2.0e-05
  seed: 123
  gradient_accumulation_steps: 1
  weight_decay: 0.01
  validation_metrics:
  - MRR@10
  - recall@100
  - recall@200
  - recall@500
  pretrained_no_yamlconfig: false
  nb_iterations: 100000
  train_batch_size: 32
  eval_batch_size: 600
  index_retrieve_batch_size: 500
  record_frequency: 50000
  train_monitoring_freq: 1000
  warmup_steps: 1000
  max_length: 256
  fp16: false
  augment_pairs: in_batch_negatives
  matching_type: splade
  monitoring_ckpt: loss
  loss: InBatchPairwiseNLL
  regularizer:
    FLOPS:
      lambda_q: 0.0005
      lambda_d: 0.0003
      T: 3
      targeted_rep: rep
      reg: FLOPS
  tokenizer_type: /home/lamdo/keyphrase_informativeness_test/splade/experiments_unarxive_citation_context_add_random_negsampling/debug/checkpoint/model
  top_k: 5
  threshold: 0.4
  eval_metric:
  - - mrr_10
    - recall
  retrieval_name:
  - TOY
  checkpoint_dir: experiments_unarxiv_citation_context_random_negsampling_only/debug/checkpoint
  index_dir: experiments_unarxiv_citation_context_random_negsampling_only/debug/index
  out_dir: experiments_unarxiv_citation_context_random_negsampling_only/debug/out
data:
  type: triplets
  TRAIN_DATA_DIR: /home/lamdo/keyphrase_informativeness_test/splade/data/keyphrase_informative_unarxive_random_negsampling_only/triplets
  VALIDATION_SIZE_FOR_LOSS: 20
  VALIDATION_FULL_RANKING:
    D_COLLECTION_PATH: data/toy_data/val_collection
    Q_COLLECTION_PATH: data/toy_data/val_queries
    QREL_PATH: data/toy_data/qrel/qrel.json
    TOP_K: 20
  COLLECTION_PATH: data/toy_data/full_collection
  Q_COLLECTION_PATH:
  - data/toy_data/dev_queries
  EVAL_QREL_PATH:
  - data/toy_data/qrel/qrel.json
  flops_queries: data/toy_data/dev_queries
init_dict:
  model_type_or_dir: /home/lamdo/keyphrase_informativeness_test/splade/experiments_unarxive_citation_context_add_random_negsampling/debug/checkpoint/model
  model_type_or_dir_q: null
  freeze_d_model: 0
  agg: max
  fp16: true
